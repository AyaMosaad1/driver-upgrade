{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport { CountryModal } from \"./CountryModal\";\nimport { HeaderModal } from \"./HeaderModal\";\nimport { FlagType } from \"./types\";\nimport { CountryFilter } from \"./CountryFilter\";\nimport { FlagButton } from \"./FlagButton\";\nimport { useContext } from \"./CountryContext\";\nimport { CountryList } from \"./CountryList\";\nvar renderFlagButton = function renderFlagButton(props) {\n  return props.renderFlagButton ? props.renderFlagButton(props) : React.createElement(FlagButton, _extends({}, props));\n};\nvar _renderFilter = function renderFilter(props) {\n  return props.renderCountryFilter ? props.renderCountryFilter(props) : React.createElement(CountryFilter, _extends({}, props));\n};\nexport var CountryPicker = function CountryPicker(props) {\n  var countryCode = props.countryCode,\n    region = props.region,\n    subregion = props.subregion,\n    countryCodes = props.countryCodes,\n    renderButton = props.renderFlagButton,\n    renderCountryFilter = props.renderCountryFilter,\n    filterProps = props.filterProps,\n    modalProps = props.modalProps,\n    flatListProps = props.flatListProps,\n    onSelect = props.onSelect,\n    withEmoji = props.withEmoji,\n    withFilter = props.withFilter,\n    withCloseButton = props.withCloseButton,\n    withCountryNameButton = props.withCountryNameButton,\n    withCallingCodeButton = props.withCallingCodeButton,\n    withCurrencyButton = props.withCurrencyButton,\n    containerButtonStyle = props.containerButtonStyle,\n    withAlphaFilter = props.withAlphaFilter,\n    withCallingCode = props.withCallingCode,\n    withCurrency = props.withCurrency,\n    withFlag = props.withFlag,\n    withModal = props.withModal,\n    disableNativeModal = props.disableNativeModal,\n    withFlagButton = props.withFlagButton,\n    handleClose = props.onClose,\n    handleOpen = props.onOpen,\n    closeButtonImage = props.closeButtonImage,\n    closeButtonStyle = props.closeButtonStyle,\n    closeButtonImageStyle = props.closeButtonImageStyle,\n    excludeCountries = props.excludeCountries,\n    placeholder = props.placeholder,\n    preferredCountries = props.preferredCountries;\n  var _useState = useState({\n      visible: props.visible || false,\n      countries: [],\n      filter: '',\n      filterFocus: false\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var _useContext = useContext(),\n    translation = _useContext.translation,\n    getCountriesAsync = _useContext.getCountriesAsync;\n  var visible = state.visible,\n    filter = state.filter,\n    countries = state.countries,\n    filterFocus = state.filterFocus;\n  useEffect(function () {\n    if (state.visible !== props.visible) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        visible: props.visible || false\n      }));\n    }\n  }, [props.visible]);\n  var onOpen = function onOpen() {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      visible: true\n    }));\n    if (handleOpen) {\n      handleOpen();\n    }\n  };\n  var onClose = function onClose() {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      filter: '',\n      visible: false\n    }));\n    if (handleClose) {\n      handleClose();\n    }\n  };\n  var setFilter = function setFilter(filter) {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filter: filter\n    }));\n  };\n  var setCountries = function setCountries(countries) {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      countries: countries\n    }));\n  };\n  var onSelectClose = function onSelectClose(country) {\n    onSelect(country);\n    onClose();\n  };\n  var onFocus = function onFocus() {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filterFocus: true\n    }));\n  };\n  var onBlur = function onBlur() {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filterFocus: false\n    }));\n  };\n  var flagProp = {\n    countryCode: countryCode,\n    withEmoji: withEmoji,\n    withCountryNameButton: withCountryNameButton,\n    withCallingCodeButton: withCallingCodeButton,\n    withCurrencyButton: withCurrencyButton,\n    withFlagButton: withFlagButton,\n    renderFlagButton: renderButton,\n    onOpen: onOpen,\n    containerButtonStyle: containerButtonStyle,\n    placeholder: placeholder\n  };\n  useEffect(function () {\n    getCountriesAsync(withEmoji ? FlagType.EMOJI : FlagType.FLAT, translation, region, subregion, countryCodes, excludeCountries, preferredCountries, withAlphaFilter).then(setCountries).catch(console.warn);\n  }, [translation, withEmoji]);\n  return React.createElement(React.Fragment, null, withModal && renderFlagButton(flagProp), React.createElement(CountryModal, _extends({}, _objectSpread({\n    visible: visible,\n    withModal: withModal,\n    disableNativeModal: disableNativeModal\n  }, modalProps), {\n    onRequestClose: onClose,\n    onDismiss: onClose\n  }), React.createElement(HeaderModal, _extends({}, {\n    withFilter: withFilter,\n    onClose: onClose,\n    closeButtonImage: closeButtonImage,\n    closeButtonImageStyle: closeButtonImageStyle,\n    closeButtonStyle: closeButtonStyle,\n    withCloseButton: withCloseButton\n  }, {\n    renderFilter: function renderFilter(props) {\n      return _renderFilter(_objectSpread(_objectSpread({}, props), {}, {\n        renderCountryFilter: renderCountryFilter,\n        onChangeText: setFilter,\n        value: filter,\n        onFocus: onFocus,\n        onBlur: onBlur\n      }, filterProps));\n    }\n  })), React.createElement(CountryList, _extends({}, {\n    onSelect: onSelectClose,\n    data: countries,\n    letters: [],\n    withAlphaFilter: withAlphaFilter && filter === '',\n    withCallingCode: withCallingCode,\n    withCurrency: withCurrency,\n    withFlag: withFlag,\n    withEmoji: withEmoji,\n    filter: filter,\n    filterFocus: filterFocus,\n    flatListProps: flatListProps\n  }))));\n};\nCountryPicker.defaultProps = {\n  withModal: true,\n  withAlphaFilter: false,\n  withCallingCode: false,\n  placeholder: 'Select Country'\n};","map":{"version":3,"names":["React","useState","useEffect","CountryModal","HeaderModal","FlagType","CountryFilter","FlagButton","useContext","CountryList","renderFlagButton","props","createElement","_extends","renderFilter","renderCountryFilter","CountryPicker","countryCode","region","subregion","countryCodes","renderButton","filterProps","modalProps","flatListProps","onSelect","withEmoji","withFilter","withCloseButton","withCountryNameButton","withCallingCodeButton","withCurrencyButton","containerButtonStyle","withAlphaFilter","withCallingCode","withCurrency","withFlag","withModal","disableNativeModal","withFlagButton","handleClose","onClose","handleOpen","onOpen","closeButtonImage","closeButtonStyle","closeButtonImageStyle","excludeCountries","placeholder","preferredCountries","_useState","visible","countries","filter","filterFocus","_useState2","_slicedToArray","state","setState","_useContext","translation","getCountriesAsync","_objectSpread","setFilter","setCountries","onSelectClose","country","onFocus","onBlur","flagProp","EMOJI","FLAT","then","catch","console","warn","Fragment","onRequestClose","onDismiss","onChangeText","value","data","letters","defaultProps"],"sources":["../src/CountryPicker.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}