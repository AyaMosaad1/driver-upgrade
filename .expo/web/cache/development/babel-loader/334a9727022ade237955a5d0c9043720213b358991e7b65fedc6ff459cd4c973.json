{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useCellTranslate = void 0;\nvar react_native_reanimated_1 = require(\"react-native-reanimated\");\nvar animatedValueContext_1 = require(\"../context/animatedValueContext\");\nvar refContext_1 = require(\"../context/refContext\");\nvar procs_1 = require(\"../procs\");\nvar useSpring_1 = require(\"./useSpring\");\nvar useNode_1 = require(\"../hooks/useNode\");\nvar draggableFlatListContext_1 = require(\"../context/draggableFlatListContext\");\nfunction useCellTranslate(_a) {\n  var cellIndex = _a.cellIndex,\n    cellSize = _a.cellSize,\n    cellOffset = _a.cellOffset;\n  var _b = (0, animatedValueContext_1.useAnimatedValues)(),\n    activeIndexAnim = _b.activeIndexAnim,\n    activeCellSize = _b.activeCellSize,\n    hoverAnim = _b.hoverAnim,\n    scrollOffset = _b.scrollOffset,\n    spacerIndexAnim = _b.spacerIndexAnim,\n    placeholderOffset = _b.placeholderOffset,\n    isDraggingCell = _b.isDraggingCell,\n    resetTouchedCell = _b.resetTouchedCell,\n    disabled = _b.disabled;\n  var animationConfigRef = (0, refContext_1.useRefs)().animationConfigRef;\n  var onDragEnd = (0, draggableFlatListContext_1.useDraggableFlatListContext)().onDragEnd;\n  var cellSpring = (0, useSpring_1.useSpring)({\n    config: animationConfigRef.current\n  });\n  var clock = cellSpring.clock,\n    state = cellSpring.state,\n    config = cellSpring.config;\n  var isAfterActive = (0, react_native_reanimated_1.useValue)(0);\n  var isClockRunning = (0, useNode_1.useNode)((0, react_native_reanimated_1.clockRunning)(clock));\n  var runSpring = (0, useNode_1.useNode)((0, procs_1.springFill)(clock, state, config));\n  var cellHoverOffset = (0, useNode_1.useNode)((0, react_native_reanimated_1.add)(hoverAnim, scrollOffset));\n  var onFinished = (0, useNode_1.useNode)((0, react_native_reanimated_1.cond)(isClockRunning, [(0, react_native_reanimated_1.stopClock)(clock), (0, react_native_reanimated_1.cond)((0, react_native_reanimated_1.eq)(cellIndex, activeIndexAnim), [resetTouchedCell, (0, react_native_reanimated_1.call)([activeIndexAnim, spacerIndexAnim], onDragEnd)])]));\n  var prevTrans = (0, react_native_reanimated_1.useValue)(0);\n  var prevSpacerIndex = (0, react_native_reanimated_1.useValue)(-1);\n  var prevIsDraggingCell = (0, react_native_reanimated_1.useValue)(0);\n  var cellTranslate = (0, useNode_1.useNode)((0, procs_1.setupCell)(cellIndex, cellSize, cellOffset, isAfterActive, prevTrans, prevSpacerIndex, activeIndexAnim, activeCellSize, cellHoverOffset, spacerIndexAnim, config.toValue, state.position, state.time, state.finished, runSpring, onFinished, isDraggingCell, placeholderOffset, prevIsDraggingCell, clock, disabled));\n  (0, react_native_reanimated_1.useCode)(function () {\n    return (0, react_native_reanimated_1.block)([(0, react_native_reanimated_1.onChange)(cellTranslate, []), (0, react_native_reanimated_1.onChange)(prevTrans, []), (0, react_native_reanimated_1.onChange)(cellSize, []), (0, react_native_reanimated_1.onChange)(cellOffset, [])]);\n  }, []);\n  return state.position;\n}\nexports.useCellTranslate = useCellTranslate;","map":{"version":3,"names":["Object","defineProperty","exports","value","useCellTranslate","react_native_reanimated_1","require","animatedValueContext_1","refContext_1","procs_1","useSpring_1","useNode_1","draggableFlatListContext_1","_a","cellIndex","cellSize","cellOffset","_b","useAnimatedValues","activeIndexAnim","activeCellSize","hoverAnim","scrollOffset","spacerIndexAnim","placeholderOffset","isDraggingCell","resetTouchedCell","disabled","animationConfigRef","useRefs","onDragEnd","useDraggableFlatListContext","cellSpring","useSpring","config","current","clock","state","isAfterActive","useValue","isClockRunning","useNode","clockRunning","runSpring","springFill","cellHoverOffset","add","onFinished","cond","stopClock","eq","call","prevTrans","prevSpacerIndex","prevIsDraggingCell","cellTranslate","setupCell","toValue","position","time","finished","useCode","block","onChange"],"sources":["C:/Users/Ayamo/Downloads/driver-master/node_modules/react-native-draggable-flatlist/lib/hooks/useCellTranslate.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useCellTranslate = void 0;\nvar react_native_reanimated_1 = require(\"react-native-reanimated\");\nvar animatedValueContext_1 = require(\"../context/animatedValueContext\");\nvar refContext_1 = require(\"../context/refContext\");\nvar procs_1 = require(\"../procs\");\nvar useSpring_1 = require(\"./useSpring\");\nvar useNode_1 = require(\"../hooks/useNode\");\nvar draggableFlatListContext_1 = require(\"../context/draggableFlatListContext\");\nfunction useCellTranslate(_a) {\n    var cellIndex = _a.cellIndex, cellSize = _a.cellSize, cellOffset = _a.cellOffset;\n    var _b = (0, animatedValueContext_1.useAnimatedValues)(), activeIndexAnim = _b.activeIndexAnim, activeCellSize = _b.activeCellSize, hoverAnim = _b.hoverAnim, scrollOffset = _b.scrollOffset, spacerIndexAnim = _b.spacerIndexAnim, placeholderOffset = _b.placeholderOffset, isDraggingCell = _b.isDraggingCell, resetTouchedCell = _b.resetTouchedCell, disabled = _b.disabled;\n    var animationConfigRef = (0, refContext_1.useRefs)().animationConfigRef;\n    var onDragEnd = (0, draggableFlatListContext_1.useDraggableFlatListContext)().onDragEnd;\n    var cellSpring = (0, useSpring_1.useSpring)({ config: animationConfigRef.current });\n    var clock = cellSpring.clock, state = cellSpring.state, config = cellSpring.config;\n    var isAfterActive = (0, react_native_reanimated_1.useValue)(0);\n    var isClockRunning = (0, useNode_1.useNode)((0, react_native_reanimated_1.clockRunning)(clock));\n    var runSpring = (0, useNode_1.useNode)((0, procs_1.springFill)(clock, state, config));\n    // Even though this is the same value as hoverOffset passed via context\n    // the android context value lags behind the actual value on autoscroll\n    var cellHoverOffset = (0, useNode_1.useNode)((0, react_native_reanimated_1.add)(hoverAnim, scrollOffset));\n    var onFinished = (0, useNode_1.useNode)((0, react_native_reanimated_1.cond)(isClockRunning, [\n        (0, react_native_reanimated_1.stopClock)(clock),\n        (0, react_native_reanimated_1.cond)((0, react_native_reanimated_1.eq)(cellIndex, activeIndexAnim), [\n            resetTouchedCell,\n            (0, react_native_reanimated_1.call)([activeIndexAnim, spacerIndexAnim], onDragEnd),\n        ]),\n    ]));\n    var prevTrans = (0, react_native_reanimated_1.useValue)(0);\n    var prevSpacerIndex = (0, react_native_reanimated_1.useValue)(-1);\n    var prevIsDraggingCell = (0, react_native_reanimated_1.useValue)(0);\n    var cellTranslate = (0, useNode_1.useNode)((0, procs_1.setupCell)(cellIndex, cellSize, cellOffset, isAfterActive, prevTrans, prevSpacerIndex, activeIndexAnim, activeCellSize, cellHoverOffset, spacerIndexAnim, \n    //@ts-ignore\n    config.toValue, state.position, state.time, state.finished, runSpring, onFinished, isDraggingCell, placeholderOffset, prevIsDraggingCell, clock, disabled));\n    // This is a workaround required to continually evaluate values\n    (0, react_native_reanimated_1.useCode)(function () {\n        return (0, react_native_reanimated_1.block)([\n            (0, react_native_reanimated_1.onChange)(cellTranslate, []),\n            (0, react_native_reanimated_1.onChange)(prevTrans, []),\n            (0, react_native_reanimated_1.onChange)(cellSize, []),\n            (0, react_native_reanimated_1.onChange)(cellOffset, []),\n        ]);\n    }, []);\n    return state.position;\n}\nexports.useCellTranslate = useCellTranslate;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}